<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Using advanced scope conditions</title>

  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-M8KWK" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M8KWK');</script>

  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/algoliasearch/3.8.1/algoliasearch.min.js"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/algoliasearch-helper-js/2.4.0/algoliasearch.helper.min.js"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/hogan.js/3.0.2/hogan.min.js"></script>

  <script src="/assets/js/fout.js"></script>
  <script src="/assets/js/main.js"></script>

  <script type="text/javascript" src="//fast.fonts.net/jsapi/bd23cf03-685d-4ec1-b306-4adae883ab02.js"></script>
  <link rel="stylesheet" href="//dq4ao5v8lzg12.cloudfront.net/app.min.css">
  <!-- <link rel="stylesheet" href="//0.0.0.0:9000/app.css"> -->

  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/tomorrow-night-bright.min.css">
  <script type="text/javascript" src="https://cdn.statuspage.io/se-v2.js"></script>

  <script id="algolia__template" type="text/template">
  
    <div class="algolia__result">
      <a class="algolia__result-link" href="{{ full_url }}#algolia:{{ css_selector }}">{{{ _highlightResult.title.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.text.value }}}</div>
    </div>
  
  </script>
  <script id="algolia__template--no-results" type="text/template">
    No results found.
  </script>
</head>

  <body class="help">
    <button class="menu-toggle" role="button" aria-pressed="false"></button>
<nav class="nav-primary">
  <div class="wrap">
    <ul id="menu-marketing-navbar-left" class="menu">
      <li id="logo" class="menu-item menu-item-type-custom menu-item-object-custom">
        <a href="http://help.getvero.com">
          <img src="http://assets.getvero.com.s3.amazonaws.com/marketing-redesign/logo-blue.svg">
        </a>
      </li>
    </ul>
    <ul id="menu-marketing-navbar-right" class="menu genesis-nav-menu menu-primary">
      <li id="menu-item-2169" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2169 ">
        <a href="http://developers.getvero.com" itemprop="url">
          <span itemprop="name" class="">API Reference</span>
        </a>
      </li>
      <li id="menu-item-2026" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2026">
        <a href="mailto:support@getvero.com" itemprop="url">
          <span itemprop="name" class="">Email support</span>
        </a>
      </li>
      <li id="menu-item-2120" class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item menu-item-2120">
        <a href="https://www.getvero.com/" itemprop="url">
          <span itemprop="name" class="">Return to Vero</span>
        </a>
      </li>
    </ul>
    <div class="nav-menu-toggle">
      <a href="#" class="">Menu</a>
    </div>
  </div>
</nav>

    <div class="help-semi-nav">
  <div class="content-wrapper">
   <a class="back-link" href="/"><span class="fa fa-long-arrow-left"></span> Back to Help</a>
  </div>
</div>
<div class="article single using-advanced-scope-conditions">
  <div class="main-sidebar">
    <article class="main-wrapper  algolia__initial-content js-algolia__initial-content">
      <div><span class="categories">campaigns</span></div>
      <h1 id="scope-a-behavioral-email-by-event-property-the-advanced-scope-by-feature">Scope a behavioral email by event property (the advanced ‘scope by’ feature)</h1>

<p>Vero’s <code class="highlighter-rouge">scope by</code> filter is an advanced feature of behavioral campaigns. The best way to illustrate the <code class="highlighter-rouge">scope by</code> feature is an example.</p>

<p>Imagine you are an eCommerce store, selling products <em>A</em>, <em>B</em> and <em>C</em> and that you track an event in Vero called <code class="highlighter-rouge">Viewed product</code> whenever a customer views any of your products, whenever a customer purchases a product, you also track an event called <code class="highlighter-rouge">Purchased product</code>.</p>

<h2 id="an-ordinary-abandonment-campaign">An ordinary abandonment campaign</h2>

<p>In this example, you would likely track the following event properties with your <code class="highlighter-rouge">Viewed product</code> and <code class="highlighter-rouge">Purchased product</code> events:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="err">sku:</span><span class="w"> </span><span class="err">'1234',</span><span class="w">
  </span><span class="err">price:</span><span class="w"> </span><span class="err">20.00,</span><span class="w">
  </span><span class="err">name:</span><span class="w"> </span><span class="err">'Product</span><span class="w"> </span><span class="err">A',</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>You setup a behavioral campaign that targets users that view a product but don’t purchase it. You might setup a campaign like this:</p>

<p><img src="/assets/screenshots/vero.triggered-abandonment-campaign.png" alt="Triggered abandonment campaign" /></p>

<p>If a customer triggered <code class="highlighter-rouge">Viewed product</code> for products <em>A</em>, <em>B</em> <strong>and</strong> <em>C</em>, this campaign would be triggered for evaluation three times.</p>

<p>At run time, Vero will check the conditions. In the screenshot above, we can see that Vero will only send the email if the user has not triggered <code class="highlighter-rouge">Purchased product</code>. If you don’t use the <code class="highlighter-rouge">scope by</code> feature, then if a customer triggers <code class="highlighter-rouge">Purchased product</code> for <strong>any</strong> of the products <em>A</em>, <em>B</em> or <em>C</em>, this email <strong>will not be sent</strong> as they will not meet the conditions.</p>

<h2 id="an-abandonment-campaign-using-scope-by">An abandonment campaign using ‘scope by’</h2>

<p>If you want to ensure that customers get your follow up email for <strong>each of the products</strong> they don’t purchase independently, you can tell Vero to evaluate the conditions of the email scoping by an <strong>event property</strong>. For example, the property <code class="highlighter-rouge">sku</code> could be used to ensure the trigger event and any events in the conditions refer to the same product.</p>

<p>When evaluating the campaign, Vero will check that <strong>both</strong> the <code class="highlighter-rouge">Viewed product</code> and <code class="highlighter-rouge">Purchased product</code> events have the <strong>exact same</strong> <code class="highlighter-rouge">sku</code> value.</p>

<p>Here is an example of how you would configure this in Vero:</p>

<p><img src="/assets/screenshots/vero.advanced-scope-by-triggered-email.png" alt="Scoped conditions triggered abandonment campaign" /></p>

<p>In this scenario, if a customer viewed products <em>A</em>, <em>B</em> <strong>and</strong> <em>C</em> and then purchased product <em>A</em>, they would not get a follow up email for product <em>A</em>, but they would still get a follow up email for products <em>B</em> and <em>C</em>.</p>

      <div class="support-block white-block">
        <h3>Didn't find what you were looking for?</h3>
        <p>Get in touch, we're always happy to help. Email us at: <a href="#">support@getvero.com</a></p>
      </div>
      <div class="open-block white-block">
        <h3>Improve our docs</h3>
        <p>Our help docs are open to everyone, help us make them better by contributing on <span class="fa fa-github"></span><a href="https://github.com/getvero/getvero.github.io"> Github</a> and you'll be our new best friend!</p>
      </div>
    </article>
    <div class="algolia__search-content js-algolia__search-content">
      <h1 class="page-title">Search</h1>
      <div class="articles algolia__results"></div>
    </div>
    <div class="sidebar-wrapper">
      <div class="help-search hide-on-mobile">
        <input type="text" class="js-algolia__input" placeholder="Search the help docs"/>
        <span class="fa fa-search"></span>
      </div>
      <div class="white-block">
        <h3 class="gray-block-title">Related Articles</h3>
        
        <ul class="unstyled-list">
          
        </ul>
      </div>
    </div>
  </div>
</div>

    <footer class="site-footer">
  <div class="wrap">
    <div class="main-footer">
      <ul class="col">
        <li><a href="http://www.getvero.com/pricing">Return to getvero.com</a></li>
      </ul>
      <ul class="col">
        <li>&nbsp;</li>
      </ul>
      <ul class="col">
        <li><a href="http://www.getvero.com/pricing">Developers</a></li>
        <li><a href="http://www.getvero.com/api">API Reference</a></li>
      </ul>
      <ul class="col">
        <li><a href="http://www.getvero.com/terms-of-service">Terms of Service</a></li>
        <li><a href="http://www.getvero.com/privacy">Privacy Policy</a></li>
      </ul>
    </div>
  </div>
</footer>
  </body>
</html>