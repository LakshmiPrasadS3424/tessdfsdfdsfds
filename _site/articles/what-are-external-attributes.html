<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
    <meta name="description" content="Vero's External Attributes feature allows you to pull data from your own API or web endpoints so you can personalise your emails on a truly one-to-one basis.">
  
  <title>What are External Attributes?</title>

  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-M8KWK" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M8KWK');</script>

  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/algoliasearch/3.8.1/algoliasearch.min.js"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/algoliasearch-helper-js/2.4.0/algoliasearch.helper.min.js"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/hogan.js/3.0.2/hogan.min.js"></script>

  <script src="/assets/js/fout.js"></script>
  <script src="/assets/js/main.js"></script>

  <script type="text/javascript" src="//fast.fonts.net/jsapi/bd23cf03-685d-4ec1-b306-4adae883ab02.js"></script>
  <!-- <link rel="stylesheet" href="//dq4ao5v8lzg12.cloudfront.net/app.min.css"> -->
  <link rel="stylesheet" href="//0.0.0.0:9000/app.css">

  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/tomorrow-night-bright.min.css">
  <script type="text/javascript" src="https://cdn.statuspage.io/se-v2.js"></script>

  <script id="algolia__template" type="text/template">
  
    <div class="algolia__result">
      <a class="algolia__result-link" href="{{ full_url }}#algolia:{{ css_selector }}">{{{ _highlightResult.title.value }}}</a>
      <div class="algolia__result-text">{{{ _highlightResult.text.value }}}</div>
    </div>
  
  </script>
  <script id="algolia__template--no-results" type="text/template">
    No results found.
  </script>
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-M8KWK');</script>
  <!-- End Google Tag Manager -->
</head>

  <body class="help">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M8KWK"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    
    <button class="menu-toggle" role="button" aria-pressed="false"></button>
<nav class="nav-primary">
  <div class="wrap">
    <ul id="menu-marketing-navbar-left" class="menu">
      <li id="logo" class="menu-item menu-item-type-custom menu-item-object-custom">
        <a href="http://help.getvero.com">
          <img src="https://s3-us-west-2.amazonaws.com/developers.getvero.com/assets/logo-blue.svg">
        </a>
      </li>
    </ul>
    <ul id="menu-marketing-navbar-right" class="menu genesis-nav-menu menu-primary">
      <li id="menu-item-2169" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2169 ">
        <a href="http://developers.getvero.com" itemprop="url">
          <span itemprop="name" class="">API Reference</span>
        </a>
      </li>
      <li id="menu-item-2026" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2026">
        <a href="mailto:support@getvero.com" itemprop="url">
          <span itemprop="name" class="">Email support</span>
        </a>
      </li>
      <li id="menu-item-2120" class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item menu-item-2120">
        <a href="https://www.getvero.com/" itemprop="url">
          <span itemprop="name" class="">Return to Vero</span>
        </a>
      </li>
    </ul>
    <div class="nav-menu-toggle">
      <a href="#" class="">Menu</a>
    </div>
  </div>
</nav>

    <div class="help-semi-nav">
  <div class="content-wrapper">
   <a class="back-link" href="/"><span class="fa fa-long-arrow-left"></span> Back to Help</a>
  </div>
</div>
<div class="article single what-are-external-attributes?">
  <div class="main-sidebar">
    <article class="main-wrapper  algolia__initial-content js-algolia__initial-content">
      <div><span class="categories">email design</span></div>
      <h1 id="what-are-external-attributes">What are External Attributes?</h1>

<p>Vero’s External Attributes feature allows you to pull data from your own API or web endpoints so you can personalise your emails on a truly one-to-one basis.</p>

<p>It gives you the ability to access data that hasn’t been pushed into Vero, and use that data in your email content, subject lines and dynamic attachments.</p>

<p>Example use cases:</p>

<ul>
  <li>You’d like to send off the top 5 new products in your store that day.</li>
  <li>Pull in extra information about your users</li>
  <li>You’d like to show relevant items based on the current stock.</li>
  <li>You’d like to send customised content for each demographic (i.e. products based on location or even different languages)</li>
</ul>

<p>Vero can handle two types of data responses:</p>

<h2 id="returning-html">Returning HTML</h2>

<p>To do this you use a custom filter we’ve built using the <a href="https://docs.shopify.com/themes/liquid-documentation/basics">Liquid tempting language</a>.</p>

<p>This method allows you to pass data stored in Vero back to your server so that you can manipulate it and send back some custom HTML. The custom HTML that is returned is inserted into the body of your email exactly where you place the following tag:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">%</span><span class="w"> </span><span class="err">fetch_html</span><span class="w"> </span><span class="err">'https://www.domain.com/endpoint'</span><span class="w"> </span><span class="err">%</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>In this example below, we pass back both a customer-level attribute and an event-level attribute. This data can then be used by your server!</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">%</span><span class="w"> </span><span class="err">fetch_html</span><span class="w"> </span><span class="err">'https://www.domain.com?param={{user.id</span><span class="p">}</span><span class="err">}&amp;param</span><span class="mi">2</span><span class="err">=</span><span class="p">{</span><span class="err">{event.number_of_widgets</span><span class="p">}</span><span class="err">}'</span><span class="w"> </span><span class="err">%}</span><span class="w">
</span></code></pre>
</div>

<p>You should of course replace the domain in this example with whatever URL you prefer. This URL should return raw HTML that will be dumped into the body of your HTML campaign <strong>exactly</strong> as it is returned.</p>

<p>Here is how you might insert this code into the body of your email:</p>

<p><img src="/assets/screenshots/vero.fetch-html.png" alt="Fetch HTML in Vero" /></p>

<p>This would then be replaced with the correct HTML upon sending.</p>

<h2 id="returning-json">Returning JSON</h2>

<p>Alternately, you can include an API end-point and pull JSON data from your web server to be used when creating a campaign.</p>

<p>There are two ways of accessing external JSON data.</p>

<h3 id="external-attributes-field">External Attributes Field</h3>

<p>If you have External Attributes enabled for your account, you will find an external attributes input field beneath the content section of your campaign builder:</p>

<p><img src="/assets/screenshots/vero.external-attributes.png" alt="External attributes in Vero" /></p>

<p>Place the API endpoint into the External Attributes section. For example, if the endpoint was:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>http://jsonplaceholder.typicode.com/posts/1
</code></pre>
</div>

<p>The contents of the endpoint would show:</p>

<p><img src="/assets/screenshots/vero.json-data.png" alt="JSON response" /></p>

<p>Then, when you place  inside of your content (or template as well), the result in the preview would show the title pulled in like so:</p>

<p><img src="/assets/screenshots/vero.external-attributes-preview.png" alt="External attributes preview" /></p>

<h3 id="fetch-json-liquid-filter">Fetch JSON liquid filter</h3>

<p>The fetch_json liquid filter works in a similar way as the fetch_html filter above, but instead expects a JSON response.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">%</span><span class="w"> </span><span class="err">fetch_json</span><span class="w"> </span><span class="err">product</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">'https://www.domain.com/products/{{event.product_id'</span><span class="p">}</span><span class="err">}</span><span class="w"> </span><span class="err">%}</span><span class="w">
</span></code></pre>
</div>

<p>After adding this to your template or email body you can then access the returned data using the <code class="highlighter-rouge">product</code> liquid variable. e.g:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">{json.product.product_name</span><span class="p">}</span><span class="err">}</span><span class="w">
</span></code></pre>
</div>

<h2 id="authentication">Authentication</h2>

<p>At this time External Attributes only supports basic HTTP Authentication. You can include basic HTTP Authentication details using the format <code class="highlighter-rouge">http://username:password@yoururl.com/data-feed.json</code>. This is supported by <code class="highlighter-rouge">fetch_html</code>, <code class="highlighter-rouge">fetch_json</code> and JSON fetch methods.</p>

<p>External Attributes is an advanced feature. Please get in touch with our 
<a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#064;&#103;&#101;&#116;&#118;&#101;&#114;&#111;&#046;&#099;&#111;&#109;">support team via email</a> so we can show you it in action.</p>

      <div class="support-block white-block">
        <h3>Didn't find what you were looking for?</h3>
        <p>Get in touch, we're always happy to help. Email us at: <a href="#">support@getvero.com</a></p>
      </div>
      <div class="open-block white-block">
        <h3>Improve our docs</h3>
        <p>Our help docs are open to everyone, help us make them better by contributing on <span class="fa fa-github"></span><a href="https://github.com/getvero/getvero.github.io"> Github</a> and you'll be our new best friend!</p>
      </div>
    </article>
    <div class="algolia__search-content js-algolia__search-content">
      <h1 class="page-title">Search</h1>
      <div class="articles algolia__results"></div>
    </div>
    <div class="sidebar-wrapper">
      <div class="help-search hide-on-mobile">
        <input type="text" class="js-algolia__input" placeholder="Search the help docs"/>
        <span class="fa fa-search"></span>
      </div>
      <div class="white-block">
        <h3 class="gray-block-title">Related Articles</h3>
        
        <ul class="unstyled-list">
          
            
              <li>
                <a class="article-link" href="/articles/html-vs-plain-text-emails.html">HTML vs. Plain Text emails</a>
              </li>
            
          
            
              <li>
                <a class="article-link" href="/articles/inserting-merge-tags-using-liquid-in-my-emails.html">Inserting merge tags using Liquid in my emails</a>
              </li>
            
          
            
              <li>
                <a class="article-link" href="/articles/list-of-liquid-functions-dynamic-templating-variables.html">List of Liquid functions / dynamic templating variables</a>
              </li>
            
          
            
              <li>
                <a class="article-link" href="/articles/media-queries-in-vero.html">Using media queries (@media) in Vero</a>
              </li>
            
          
            
              <li>
                <a class="article-link" href="/articles/update-a-html-template.html">Update a HTML Template</a>
              </li>
            
          
            
              <li>
                <a class="article-link" href="/articles/using-arrays-in-your-email.html">Using arrays in your emails</a>
              </li>
            
          
            
              <li>
                <a class="article-link" href="/articles/using-html-templates-in-vero.html">Using HTML templates in Vero</a>
              </li>
            
          
            
          
        </ul>
      </div>
    </div>
  </div>
</div>

    <footer class="site-footer">
  <div class="wrap">
    <div class="main-footer">
      <ul class="col">
        <li><a href="http://www.getvero.com/pricing">Return to getvero.com</a></li>
      </ul>
      <ul class="col">
        <li>&nbsp;</li>
      </ul>
      <ul class="col">
        <li><a href="http://www.getvero.com/pricing">Developers</a></li>
        <li><a href="http://www.getvero.com/api">API Reference</a></li>
      </ul>
      <ul class="col">
        <li><a href="http://www.getvero.com/terms-of-service">Terms of Service</a></li>
        <li><a href="http://www.getvero.com/privacy">Privacy Policy</a></li>
      </ul>
    </div>
  </div>
</footer>
  </body>
</html>